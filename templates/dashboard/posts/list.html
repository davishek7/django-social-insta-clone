{% extends 'layouts/dashboard-layout.html' %}
{% block content %}

<div class="pagetitle">
    <h1>Data Tables</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item">Tables</li>
        <li class="breadcrumb-item active">Data</li>
      </ol>
    </nav>
</div><!-- End Page Title -->

<section class="section">
    <div class="row">
        <div class="col-lg-12">

        <div class="card">
            <div class="card-body">
            <h5 class="card-title">Datatables</h5>
            <p>Add lightweight datatables to your project with using the <a href="https://github.com/fiduswriter/Simple-DataTables" target="_blank">Simple DataTables</a> library. Just add <code>.datatable</code> class name to any table you wish to conver to a datatable</p>

            <!-- Table with stripped rows -->
            <table class="table datatable">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Preview</th>
                        <th scope="col">Caption</th>
                        <th scope="col">User</th>
                        <th scope="col">Status</th>
                        <th scope="col">Images</th>
                        <th scope="col">Likes</th>
                        <th scope="col">Comments</th>
                    </tr>
                </thead>
                <tbody>
                    {% for post in posts %}
                        <tr>
                            <th scope="row">{{forloop.counter}}</th>
                            <th scope="row">
                                <a href="{% url 'post:post_details' post.slug %}">
                                    <img src="{{post.postimage_set.first.image.url}}" alt="" style="width:48px;height:48px;object-fit: cover;">
                                </a>
                            </th>
                            <td>{{post.caption}}</td>
                            <td>{{post.user.username}}</td>
                            <td>{% if post.status %} <i class="fas fa-check-circle text-success"></i> {% else %} <i class="fas fa-times-circle text-danger"></i> {% endif %}</td>
                            <td>{{post.postimage_set.count}}</td>
                            <td>{{post.likes.count}}</td>
                            <td>{{post.post_comments.count}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <!-- End Table with stripped rows -->

            </div>
        </div>

        </div>
    </div>
</section>
{% endblock content %}